tempmonth <-  month(known$order_date)
tempyear  <-  year(known$order_date)
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
known <- read.csv("C:/Users/hamay/Downloads/Data Science/Assignment_BADS_WS1617/assignment_BADS_WS1617_known.csv")
View(known)
for (i in 1:51884)  {
tempmonth <-  month(known$order_date)
tempyear  <-  year(known$order_date)
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
for (i in 1:51884)  {
tempmonth <-  month(known$order_date[i])
tempyear  <-  year(known$order_date[i])
YrMonth   <- paste(tempmonth[i], "-", tempyear[i], sep = "")
}
for (i in 1:51884)  {
tempmonth <-  month(known$order_date[i])
tempyear  <-  year(known$order_date[i])
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
known$YrMonth <- YrMonth
install.packages("stringr")
library(stringr)
str_pad(known$YrMonth, 7, pad = "0")
is.vector(tempmonth)
tempmonth[1,1]
tempmonth[,1]
tempmonth
for (i in known$order_date)  {
tempmonth <-  month(known$order_date[i])
tempyear  <-  year(known$order_date[i])
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
month(known$order_date[1,1])
library(stringr)
library(lubridate)
known <- read.csv("C:/Users/hamay/Downloads/Data Science/Assignment_BADS_WS1617/assignment_BADS_WS1617_known.csv")
View(known)
month(known$order_date[2])
year(known$order_date[2])
paste(month(known$order_date[2]),"-", year(known$order_date[2]))
paste(month(known$order_date[2]),"-", year(known$order_date[2]), sep = "")
for (i in nrow(known$order_date)  {
tempmonth <-  month(known$order_date[i])
tempyear  <-  year(known$order_date[i])
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
for (i in nrow(known$order_date))  {
tempmonth <-  month(known$order_date[i])
tempyear  <-  year(known$order_date[i])
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
order_date_new <- known$order_date
for (i in order_date_new)  {
tempmonth <-  month(order_date_new[i])
tempyear  <-  year(order_date_new[i])
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
for (i in order_date_new)  {
tempmonth <-  month(order_date_new[i,])
tempyear  <-  year(order_date_new[i,])
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
as.vector(order_date_new)
for (i in order_date_new)  {
tempmonth <-  month(order_date_new[i])
tempyear  <-  year(order_date_new[i])
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
}
tempmonth
for (i in order_date_new)  {
tempmonth <-  month(order_date_new[i])
tempyear  <-  year(order_date_new[i])
YrMonth   <- paste(tempmonth[i], "-", tempyear[i], sep = "")
}
month(order_date_new)
tempmonth <-month(order_date_new)
for (i in order_date_new)  {
tempmonth <-  month(order_date_new)
tempyear  <-  year(order_date_new)
YrMonth   <- paste(tempmonth[i], "-", tempyear[i], sep = "")
}
tempyear  <-  year(order_date_new)
YrMonth   <- paste(tempmonth, "-", tempyear, sep = "")
known$YrMonth <- YrMonth
str_pad(known$YrMonth, 7, pad = "0")
returnbymonth <- aggregate(return_customer ~ YrMonth, data = Known, sum)
returnbymonth <- aggregate(return_customer ~ YrMonth, data = known, sum)
returnbymonth
str_pad(known$YrMonth, 8, pad = "0")
str_pad(known$YrMonth, 7, pad = "0")
returnbymonth <- aggregate(return_customer ~ YrMonth, data = known, sum)
View(returnbymonth)
as.data.frame(returnbymonth)
str_pad(returnbymonth$YrMonth, 7, pad = "0")
returnbymonth
Totreturn <- sum(Known$return_customer)
Totreturn <- sum(known$return_customer)
returnbymonth[order(as.Date(returnbymonth$YrMonth, format="%m-%Y")),]
YrMonth   <- paste(tempyear, "-", tempmonth, sep = "")
known$YrMonth <- YrMonth
str_pad(known$YrMonth, 7, pad = "0")
str_pad(known$YrMonth, 6, pad = "0")
returnbymonth <- aggregate(return_customer ~ YrMonth, data = known, sum)
returnbymonth
str_pad(tempmonth, 2, pad = "0")
YrMonth   <- paste(tempyear, "-", tempmonth, sep = "")
known$YrMonth <- YrMonth
returnbymonth <- aggregate(return_customer ~ YrMonth, data = known, sum)
as.data.frame(returnbymonth)
returnbymonth[order(as.Date(returnbymonth$YrMonth, format="%m-%Y")),]
returnbymonth$t <-c(7:9, 1:6, 10:12)
returnbymonth
returnbymonth[order(returnbymonth$t),]
returnbymonth$percentreturn <- returnbymonth$return_customer/Totreturn
returnbymonth
returnbymonth$percentreturn <- returnbymonth$return_customer*100/Totreturn
returnbymonth
plot(returnbymonth$t, returnbymonth$percentreturn)
library(ggplot2)
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_point()
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_point() + geom_smooth()
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_point()
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_histogram()
ggplot(data = returnbymonth, aes(x = t) + geom_histogram(aes(y = percentreturn), bins = 50) + geom_density()
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_point()
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_point()
ggplot(data = loans, aes(x = dHVAL, y = dOUTM)) + geom_point() + geom_smooth()
ggplot(data = known, aes(x = t, y = percentreturn)) + geom_point() + geom_smooth()
ggplot(data = known, aes(x = t, y = percentreturn)) + geom_point() + geom_smooth(method = lm)
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_point() + geom_smooth()
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_point()
ggplot(data = returnbymonth, aes(x = t, y = percentreturn)) + geom_point() + geom_line()
returnbymonth
returnbymonth[order(returnbymonth$t),]
ggplot(data = returnbymonth, aes(x = YrMonth, y = percentreturn)) + geom_point()
ggplot(data = returnbymonth, aes(x = YrMonth, y = percentreturn)) + geom_point() + geom_line()
ggplot(data = returnbymonth, aes(x = YrMonth, y = percentreturn)) + geom_point() + geom_line()
list(known$order_date, known$account_creation_date, known$deliverydate_estimated, known$deliverydate_actual)
datelist <- list(known$order_date, known$account_creation_date, known$deliverydate_estimated, known$deliverydate_actual)
monthyear <- function(x) {
tempmonth_i <-  month(x[i])
str_pad(tempmonth_i, 2, pad = "0")
tempyear_i  <-  year(x[i])
YrMonth   <- paste(tempyear, "-", tempmonth, sep = "")
}
lapply(date, monthyear)
library(foreach)
YrMonth_order_date_new   <- paste(tempyear, "-", tempmonth, sep = "")
monthyear <- function(x) {
tempmonth <-  month(x)
str_pad(tempmonth, 2, pad = "0")
tempyear  <-  year(x)
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
monthyear <- function(x) {
tempmonth <-  month(x)
str_pad(tempmonth, 2, pad = "0")
tempyear  <-  year(x)
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
lapply(date, monthyear)
datelist <- list(as.POSIXlt(known$order_date, known$account_creation_date, known$deliverydate_estimated, known$deliverydate_actual))
datelist <- list(as.POSIXlt(known$order_date, known$account_creation_date, known$deliverydate_estimated, known$deliverydate_actual))
monthyear <- function(x) {
tempmonth <-  month(x)
str_pad(tempmonth, 2, pad = "0")
tempyear  <-  year(x)
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
lapply(date, monthyear)
lapply(date, monthyear)
monthyear <- function(x) {
tempmonth <-  month(x)
tempyear  <-  year(x)
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
lapply(date, monthyear)
monthyear <- function(x) {
tempmonth <-  month(x)
tempyear  <-  year(x)
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
lapply(date, monthyear)
monthyear <- function(x) {
tempmonth <-  month(as.POSIXlt(x, format = %Y/%m/%d))
tempyear  <-  year(as.POSIXlt(x, format = %Y/%m/%d))
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
monthyear <- function(x) {
tempmonth <-  month(as.POSIXlt(x, format = %Y/%m/%d))
tempyear  <-  year(as.POSIXlt(x, format = %Y/%m/%d))
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
lapply(date, monthyear)
as.POSIXlt(known$order_date)
datelist_format <- as.POSIXlt(datelist)
datelist_df <- data.frame(known$order_date, known$account_creation_date, known$deliverydate_estimated, known$deliverydate_actual)
monthyear <- function(x) {
tempmonth <-  month(x)
tempyear  <-  year(x)
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
lapply(datelist_df, monthyear)
monthyear <- function(x) {
tempmonth <-  month(as.POSIXlt(x, format = %Y/%m/%d))
tempyear  <-  year(as.POSIXlt(x, format = %Y/%m/%d))
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
monthyear <- function(x) {
tempmonth <-  month(as.POSIXlt(x, format= %Y/%m/%d))
tempyear  <-  year(as.POSIXlt(x, format= %Y/%m/%d))
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
lapply(datelist, monthyear)
monthyear <- function(x) {
tempmonth <-  month(x)
tempyear  <-  year(x)
YrMonth   <- as.data.frame(paste(tempyear, "-", tempmonth, sep = ""))
}
lapply(datelist, monthyear)
lapply(datelist_df, as.POSIXlt)
lapply(datelist, monthyear)
order_date_new <- known$order_date
as.vector(order_date_new)
tempmonth_1 <-  month(order_date_new)
str_pad(tempmonth, 2, pad = "0")
tempyear  <-  year(order_date_new)
YrMonth_order_date_new   <- paste(tempyear, "-", tempmonth, sep = "")
order_account_creation_date_new <- known$account_creation_date
as.vector(order_account_creation_date_new)
tempmonth_2 <-  month(order_account_creation_date_new)
str_pad(tempmonth, 2, pad = "0")
tempyear  <-  year(order_account_creation_date_new)
YrMonth_order_account_creation_date_new   <- paste(tempyear, "-", tempmonth, sep = "")
order_date_new <- known$deliverydate_estimated
as.vector(deliverydate_estimated_new)
tempmonth_3 <-  month(deliverydate_estimated_new)
str_pad(tempmonth, 2, pad = "0")
tempyear  <-  year(deliverydate_estimated_new)
YrMonth_deliverydate_estimated_new   <- paste(tempyear, "-", tempmonth, sep = "")
deliverydate_actual_new <- known$order_date
as.vector(deliverydate_actual_new)
tempmonth <-  month(deliverydate_actual_new)
str_pad(tempmonth, 2, pad = "0")
tempyear  <-  year(deliverydate_actual_new)
YrMonth_deliverydate_actual   <- paste(tempyear, "-", tempmonth, sep = "")
order_date_new <- known$order_date
as.vector(order_date_new)
tempmonth_1 <-  month(order_date_new)
str_pad(tempmonth_1, 2, pad = "0")
tempyear_1  <-  year(order_date_new)
YrMonth_order_date_new   <- paste(tempyear_1, "-", tempmonth_1, sep = "")
order_account_creation_date_new <- known$account_creation_date
as.vector(order_account_creation_date_new)
tempmonth_2 <-  month(order_account_creation_date_new)
str_pad(tempmonth_2, 2, pad = "0")
tempyear_2  <-  year(order_account_creation_date_new)
YrMonth_order_account_creation_date_new   <- paste(tempyear_2, "-", tempmonth_2, sep = "")
order_date_new <- known$deliverydate_estimated
as.vector(deliverydate_estimated_new)
tempmonth_3 <-  month(deliverydate_estimated_new)
str_pad(tempmonth_3, 2, pad = "0")
tempyear_3  <-  year(deliverydate_estimated_new)
YrMonth_deliverydate_estimated_new   <- paste(tempyear_3, "-", tempmonth_3, sep = "")
deliverydate_actual_new <- known$order_date
as.vector(deliverydate_actual_new)
tempmonth_4 <-  month(deliverydate_actual_new)
str_pad(tempmonth_4, 2, pad = "0")
tempyear_4  <-  year(deliverydate_actual_new)
YrMonth_deliverydate_actual   <- paste(tempyear_4, "-", tempmonth_4, sep = "")
as.vector(deliverydate_estimated_new)
deliverydate_estimated_new <- known$deliverydate_estimated
as.vector(deliverydate_estimated_new)
tempmonth_3 <-  month(deliverydate_estimated_new)
str_pad(tempmonth_3, 2, pad = "0")
tempyear_3  <-  year(deliverydate_estimated_new)
YrMonth_deliverydate_estimated_new   <- paste(tempyear_3, "-", tempmonth_3, sep = "")
account_creation_date_new <- known$account_creation_date
as.vector(account_creation_date_new)
tempmonth_2 <-  month(account_creation_date_new)
str_pad(tempmonth_2, 2, pad = "0")
tempyear_2  <-  year(account_creation_date_new)
YrMonth_account_creation_date_new   <- paste(tempyear_2, "-", tempmonth_2, sep = "")
tempmonth_4 <-  month(deliverydate_actual_new)
str_pad(tempmonth_4, 2, pad = "0")
tempyear_4  <-  year(deliverydate_actual_new)
YrMonth_deliverydate_actual_new   <- paste(tempyear_4, "-", tempmonth_4, sep = "")
known$YrMonth_order_date_new <- YrMonth
known$YrMonth_account_creation_date_new <- YrMonth
known$YrMonth_deliverydate_estimated_new <- YrMonth
known$YrMonth_deliverydate_actual_new <- YrMonth
returnbymonth_orderdate <- aggregate(return_customer ~ YrMonth_order_date_new, data = known, sum)
as.data.frame(returnbymonth)
returnbymonth_accountcreation <- aggregate(return_customer ~ YrMonth_account_creation_date_new, data = known, sum)
as.data.frame(returnbymonth)
returnbymonth_deliveryest <- aggregate(return_customer ~ YrMonth_deliverydate_estimated_new, data = known, sum)
as.data.frame(returnbymonth)
returnbymonth_deliveryact <- aggregate(return_customer ~ YrMonth_deliverydate_actual_new, data = known, sum)
as.data.frame(returnbymonth)
returnbymonth_orderdate <- aggregate(return_customer ~ YrMonth_order_date_new, data = known, sum)
returnbymonth_accountcreation <- aggregate(return_customer ~ YrMonth_account_creation_date_new, data = known, sum)
returnbymonth_deliveryest <- aggregate(return_customer ~ YrMonth_deliverydate_estimated_new, data = known, sum)
returnbymonth_deliveryact <- aggregate(return_customer ~ YrMonth_deliverydate_actual_new, data = known, sum)
as.data.frame(returnbymonth_orderdate)
as.data.frame(returnbymonth_accountcreation)
as.data.frame(returnbymonth_deliveryest)
as.data.frame(returnbymonth_deliveryact)
returnbymonth_orderdate <- aggregate(return_customer ~ YrMonth_order_date_new, data = known, sum)
known$YrMonth_order_date_new <- YrMonth_order_date_new
known$YrMonth_account_creation_date_new <- YrMonth_account_creation_date_new
known$YrMonth_deliverydate_estimated_new <- YrMonth_deliverydate_estimated_new
known$YrMonth_deliverydate_actual_new <- deliverydate_actual_new
returnbymonth_orderdate <- aggregate(return_customer ~ YrMonth_order_date_new, data = known, sum)
returnbymonth_accountcreation <- aggregate(return_customer ~ YrMonth_account_creation_date_new, data = known, sum)
returnbymonth_deliveryest <- aggregate(return_customer ~ YrMonth_deliverydate_estimated_new, data = known, sum)
returnbymonth_deliveryact <- aggregate(return_customer ~ YrMonth_deliverydate_actual_new, data = known, sum)
as.data.frame(returnbymonth_orderdate)
as.data.frame(returnbymonth_accountcreation)
as.data.frame(returnbymonth_deliveryest)
as.data.frame(returnbymonth_deliveryact)
known$YrMonth_deliverydate_actual_new <- YrMonth_deliverydate_actual_new
returnbymonth_deliveryact <- aggregate(return_customer ~ YrMonth_deliverydate_actual_new, data = known, sum)
as.data.frame(returnbymonth_deliveryact)
returnbymonth_orderdate$percentreturn <- returnbymonth_orderdate$return_customer*100/Totreturn
returnbymonth_accountcreation$percentreturn <- returnbymonth_accountcreation$return_customer*100/Totreturn
returnbymonth_deliveryest$percentreturn <- returnbymonth_deliveryeste$return_customer*100/Totreturn
returnbymonth_deliveryact$percentreturn <- returnbymonth_deliveryact$return_customer*100/Totreturn
returnbymonth_orderdate$percentreturn <- returnbymonth_orderdate$return_customer*100/Totreturn
returnbymonth_accountcreation$percentreturn <- returnbymonth_accountcreation$return_customer*100/Totreturn
returnbymonth_deliveryest$percentreturn <- returnbymonth_deliveryest$return_customer*100/Totreturn
returnbymonth_deliveryact$percentreturn <- returnbymonth_deliveryact$return_customer*100/Totreturn
returnbymonth_orderdate$percentreturn
returnbymonth_orderdate
returnbymonth_accountcreation
returnbymonth_deliveryest
returnbymonth_deliveryact
ggplot(data = returnbymonth_orderdate, aes(x = YrMonth_order_date_new, y = percentreturn)) + geom_point()
ggplot(data = returnbymonth_accountcreation, aes(x = YrMonth_account_creation_date_new, y = percentreturn)) + geom_point()
ggplot(data = returnbymonth_deliveryest, aes(x = YrMonth_deliverydate_estimated_new, y = percentreturn)) + geom_point()
ggplot(data = returnbymonth_deliveryact, aes(x = YrMonth_deliverydate_actual_new, y = percentreturn)) + geom_point()
summary(known)
known$account_creation_date_missing <- ifelse(known$account_creation_date[is.na(known$account_creation_date)], 1, 0)
is.na(known$account_creation_date)
known$account_creation_date_missing <- ifelse(is.na(known$account_creation_date), 1, 0)
head(known$account_creation_date_missing)
DatacleaningDates <- function(x) {
## Order date does not require cleaning, there are no missing values or outliers
## Account creation date: Create a dummy variable for NAs
x$account_creation_date_missing <- ifelse(is.na(x$account_creation_date), 1, 0)
head(x$account_creation_date_missing)
return(x)
}
DatacleaningDates(known)
DatacleaningDates <- function(x) {
## Order date does not require cleaning, there are no missing values or outliers
## Account creation date: Create a dummy variable for NAs
x$account_creation_date_missing <- ifelse(is.na(x$account_creation_date), 1, 0)
return(head(x$account_creation_date_missing))
}
DatacleaningDates(known)
library(lubridate)
DatacleaningDates <- function(x) {
## Load packages that we need
library(lubridate)
## Order date does not require cleaning, there are no missing values or outliers
## Account creation date: Create a dummy variable for NAs
x$account_creation_date_missing <- ifelse(is.na(x$account_creation_date), 1, 0)
## Delivery date estimated has outliers, from 2010 and 4746. Create a dummy to capture both
## Change 2010 to 2013, 4746 to 2014
x$account_creation_date_outliers <- ifelse(year(x$account_creation_date) == 2010 | year(x$account_creation_date) == 4746, 1, 0)
return(head(x$account_creation_date_missing))
}
DatacleaningDates <- function(x) {
## Load packages that we need
library(lubridate)
## Order date does not require cleaning, there are no missing values or outliers
## Account creation date: Create a dummy variable for NAs
x$account_creation_date_missing <- ifelse(is.na(x$account_creation_date), 1, 0)
## Delivery date estimated has outliers, from 2010 and 4746. Create a dummy to capture both
## Change 2010 to 2013, 4746 to 2014
x$deliverydate_estimated_outliers <- ifelse(year(x$account_creation_date) == 2010 | year(x$account_creation_date) == 4746, 1, 0)
return(head(x$account_creation_date_missing))
return(head(x$deliverydate_estimated))
}
DatacleaningDates(known)
DatacleaningDates <- function(x) {
## Load packages that we need
library(lubridate)
## Order date does not require cleaning, there are no missing values or outliers
## Account creation date: Create a dummy variable for NAs
x$account_creation_date_missing <- ifelse(is.na(x$account_creation_date), 1, 0)
## Delivery date estimated has outliers, from 2010 and 4746. Create a dummy to capture both
## Change 2010 to 2013, 4746 to 2014
x$deliverydate_estimated_outliers <- ifelse(year(x$deliverydate_estimated) == 2010 | year(x$account_creation_date) == 4746, 1, 0)
return(head(x$account_creation_date_missing))
return(head(x$deliverydate_estimated_outliers)
}
DatacleaningDates <- function(x) {
## Load packages that we need
library(lubridate)
## Order date does not require cleaning, there are no missing values or outliers
## Account creation date: Create a dummy variable for NAs
x$account_creation_date_missing <- ifelse(is.na(x$account_creation_date), 1, 0)
## Delivery date estimated has outliers, from 2010 and 4746. Create a dummy to capture both
## Change 2010 to 2013, 4746 to 2014
x$deliverydate_estimated_outliers <- ifelse(year(x$deliverydate_estimated) == 2010 | year(x$account_creation_date) == 4746, 1, 0)
return(head(x$account_creation_date_missing))
return(head(x$deliverydate_estimated_outliers))
}
DatacleaningDates(known)
known$deliverydate_estimated_outliers <- ifelse(year(known$deliverydate_estimated) == 2010 | year(x$deliverydate_estimated) == 4746, 1, 0)
known$deliverydate_estimated_outliers <- ifelse(year(known$deliverydate_estimated) == 2010 | year(known$deliverydate_estimated) == 4746, 1, 0)
DatacleaningDates <- function(x) {
## Load packages that we need
library(lubridate)
## Order date does not require cleaning, there are no missing values or outliers
## Account creation date: Create a dummy variable for NAs
x$account_creation_date_missing <- ifelse(is.na(x$account_creation_date), 1, 0)
## Delivery date estimated has outliers, from 2010 and 4746. Create a dummy to capture both
## Change 2010 to 2013, 4746 to 2014
x$deliverydate_estimated_outliers <- ifelse(year(x$deliverydate_estimated) == 2010 | year(x$deliverydate_estimated) == 4746, 1, 0)
return(head(x$account_creation_date_missing))
return(head(x$deliverydate_estimated_outliers))
}
DatacleaningDates(known)
known$deliverydate_estimated[year(known$deliverydate_estimated)==2010,]
known$deliverydate_estimated[year(known$deliverydate_estimated)==2010]
year(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010]) <- known$deliverydate_estimated
year(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010])
year(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010]) <- 2014
year(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010]) <- O
0 <- 2014
O <- as.date(2014)
O <- as.Date(2014)
O <- 2014
year(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010]) <- O
year(as.Date(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010])) <- O
as.Date(known$deliverydate_estimated[1])
as.Date(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010])
year(as.Date(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010]))
year(as.Date(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010])) <- 2014
ifelse(year(known$deliverydate_estimated)==2010, year(known$deliverydate_estimated==2014,year(known$deliverydate_estimated))
ifelse(year(known$deliverydate_estimated) == 2010, year(known$deliverydate_estimated)==2014,year(known$deliverydate_estimated))
ifelse(year(known$deliverydate_estimated)==2010, year(known$deliverydate_estimated)==2014,year(known$deliverydate_estimated))
ifelse(year(known$deliverydate_estimated)==4746, year(known$deliverydate_estimated)==2013,year(known$deliverydate_estimated))
View(known)
year(as.Date(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010])) <- 2014
year(known$deliverydate_estimated[year(known$deliverydate_estimated)==2010]) <- 2014
known$deliverydate_estimated <- with(data = known$deliverydate_estimated[known$deliverydate_estimated==2010], deliverydate_estimated + years(4))
known$deliverydate_estimated <- with(known$deliverydate_estimated[known$deliverydate_estimated==2010], deliverydate_estimated==2010 + years(4))
sub('2010', '2014', known$deliverydate_estimated)
sub('2010$', '2014', known$deliverydate_estimated)
known$deliverydate_estimated[known$deliverydate_estimated==2010]
known$deliverydate_estimated[known$deliverydate_estimated==2010]
known["known$deliverydate_estimated==2010","deliverydate_estimated"]
known["known$deliverydate_estimated==2010","deliverydate_estimated"]
as.data.frame(known$deliverydate_estimated[known$deliverydate_estimated == 2010])
known$deliverydate_estimated[known$deliverydate_estimated == 2010]
rm(list = ls())
known <- read.csv("~/bads-ws1617-group27/assignment_BADS_WS1617_known.csv")
View(known)
known$deliverydate_estimated[known$deliverydate_estimated == 2010]
known[known$deliverydate_estimated == 2010,]
known[year(known$deliverydate_estimated == 2010),]
known$deliverydate_estimated[year(known$deliverydate_estimated == 2010)]
known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010]
year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010]) <- year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010]) + 4
as.Date(year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010])) <- as.Date(year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010])) + 4
year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010])
as.Date(year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010])) + 4
year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010]) + 4
year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010]) <- year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010]) + 4
typeof(known$deliverydate_estimated)
as.Date(known$deliverydate_estimated)
is.Date(known$deliverydate_estimated)
known$deliverydate_estimated  <- as.Date(known$deliverydate_estimated)
is.Date(known$deliverydate_estimated)
year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010]) <- year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 2010]) + 4
year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 4746]) <- year(known$deliverydate_estimated[year(known$deliverydate_estimated) == 4746]) - 2733
year(known$deliverydate_actual) == 0000
year(known$deliverydate_actual) == 0
known$deliverydate_actual <- as.Date(known$deliverydate_actual)
is.Date(known$deliverydate_actual)
year(known$deliverydate_actual) == 0000
known$deliverydate_actual_missing <- ifelse(is.na(known$deliverydate_actual), 1, 0)
known$deliverydate_actual[is.na(known$deliverydate_actual)]
known$deliverydate_actual[is.na(known$deliverydate_actual)] <- known$deliverydate_estimated
my.na <- is.na(known$deliverydate_actual)
known$deliverydate_actual[is.na(known$deliverydate_actual)] <- known$deliverydate_estimated[my.na]
my.na <- which(is.na(known$deliverydate_actual))
which(is.na(known$deliverydate_actual))
rm(list = ls())
known <- read.csv("~/bads-ws1617-group27/assignment_BADS_WS1617_known.csv")
View(known)
known$deliverydate_estimated  <- as.Date(known$deliverydate_estimated)
is.Date(known$deliverydate_estimated)
known$deliverydate_actual <- as.Date(known$deliverydate_actual)
is.Date(known$deliverydate_actual)
known$deliverydate_actual_missing <- ifelse(is.na(known$deliverydate_actual), 1, 0)
which(is.na(known$deliverydate_actual))
na.index <- which(is.na(known$deliverydate_actual))
known$deliverydate_actual[is.na(known$deliverydate_actual)] <- known$deliverydate_estimated[na.index]
if(!require("caret")) install.packages("caret"); library("caret")
source("helper.R")
get_dataset(known)
get_dataset = function(name) {
get_dataset
get_dataset()
get_dataset(known)
rm(list = ls())
